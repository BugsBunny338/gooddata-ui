<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>measure_value_filter_component · GoodData.UI</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;!--"/><meta name="docsearch:version" content="next"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="measure_value_filter_component · GoodData.UI"/><meta property="og:type" content="website"/><meta property="og:url" content="https://gooddata.github.io/gooddata-ui/index.html"/><meta property="og:description" content="&lt;!--"/><meta property="og:image" content="https://gooddata.github.io/gooddata-ui/img/metaimage.jpg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://gooddata.github.io/gooddata-ui/img/metaimage.jpg"/><link rel="shortcut icon" href="/gooddata-ui/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=GTM-5G49LK"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments); }
              gtag('js', new Date());
              gtag('config', 'GTM-5G49LK');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/gooddata-ui/js/toggleNav.js"></script><script src="/gooddata-ui/js/scrollSpy.js"></script><link rel="stylesheet" href="/gooddata-ui/css/main.css"/><script src="/gooddata-ui/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/gooddata-ui/"><img class="logo" src="/gooddata-ui/img/gooddata.svg" alt="GoodData.UI"/></a><a href="/gooddata-ui/versions.html"><h3>next</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/gooddata-ui/docs/next/about_gooddataui.html" target="_self">Docs</a></li><li class=""><a href="/gooddata-ui/docs/next/support_options.html" target="_self">Support</a></li><li class=""><a href="https://gooddata-examples.herokuapp.com/" target="_self">Live Examples</a></li><li class=""><a href="https://github.com/gooddata/gooddata-react-components/" target="_blank">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">measure_value_filter_component</h1></header><article><div><span><!--
BB-1694 - Make this page visible by adding it to the menu and connect this article with measure_value_filter.md and vice versa
---
id: measure_value_filter_component
title: Measure Value Filter
sidebar_label: Measure Value Filter
copyright: (C) 2007-2018 GoodData Corporation
---
-->
<p>Measure value filter component is a dropdown component that allows you to create a new measure value filter or to edit an existing one. When a user clicks <strong>Apply</strong>, a callback function that contains a measure value filter ready to be used in the AFM is called.</p>
<p><img src="/gooddata-ui/docs/assets/mvf_combined.png" alt="Measure Value Filter Component" title="Measure Value Filter Component"></p>
<h3><a class="anchor" aria-hidden="true" id="structure"></a><a href="#structure" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Structure</h3>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-string">"@gooddata/react-components/styles/css/main.css"</span>;
<span class="hljs-keyword">import</span> { MeasureValueFilterDropdown } <span class="hljs-keyword">from</span> <span class="hljs-string">"@gooddata/react-components"</span>;

&lt;MeasureValueFilterDropdown
  onApply={&lt;on-apply-callback&gt;}
  onCancel={&lt;on-cancel-callback&gt;}
  measureIdentifier={&lt;measure-local-identifier&gt;}
  filter={&lt;filter&gt;}
  anchorEl={&lt;toggle-button-selector&gt;}
  usePercentage={&lt;percentage-measure-boolean&gt;}
  warningMessage={&lt;warning-message&gt;}
/&gt;
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="example"></a><a href="#example" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h3>
<p>The following example shows a bar chart displaying one measure sliced by one attribute. A user can use a measure value filter component to filter the displayed bars and see only relevant data.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">"@gooddata/react-components/styles/css/main.css"</span>;
<span class="hljs-keyword">import</span> {
  BarChart,
  Model,
  MeasureValueFilterDropdown
} <span class="hljs-keyword">from</span> <span class="hljs-string">"@gooddata/react-components"</span>;

<span class="hljs-keyword">const</span> totalSales = Model.measure(<span class="hljs-string">"totalSalesIdentifier"</span>)
  .format(<span class="hljs-string">"#,##0"</span>)
  .localIdentifier(<span class="hljs-string">"totalSales"</span>)
  .title(<span class="hljs-string">"$ Total Sales"</span>);

<span class="hljs-keyword">const</span> locationResort = Model.attribute(
  <span class="hljs-string">"locationResortIdentifier"</span>
).localIdentifier(<span class="hljs-string">"locationResort"</span>);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SalesByResort</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
    <span class="hljs-keyword">this</span>.state = { <span class="hljs-attr">filters</span>: [], <span class="hljs-attr">displayDropdown</span>: <span class="hljs-literal">false</span> };

    onApply = <span class="hljs-function"><span class="hljs-params">filter</span> =&gt;</span> {
        <span class="hljs-keyword">this</span>.setState({ <span class="hljs-attr">filters</span>: [filter], <span class="hljs-attr">displayDropdown</span>: <span class="hljs-literal">false</span> });
    };

    onCancel = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-keyword">this</span>.toggleButtonRef = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.setState({ <span class="hljs-attr">displayDropdown</span>: <span class="hljs-literal">false</span> });
    };

    toggleDropdown = <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
        <span class="hljs-keyword">this</span>.toggleButtonRef = !<span class="hljs-keyword">this</span>.state.displayDropdown ? e.currentTarget : <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.setState(<span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> ({ ...state, <span class="hljs-attr">displayDropdown</span>: !state.displayDropdown }));
    };

    render() {
        <span class="hljs-keyword">const</span> { filters, displayDropdown } = <span class="hljs-keyword">this</span>.state;

        <span class="hljs-keyword">return</span> (
            &lt;div&gt;
                &lt;div onClick={this.toggleDropdown}&gt;Measure button&lt;/div&gt;
                {displayDropdown ? (
                    &lt;MeasureValueFilterDropdown
                        onApply={this.onApply}
                        onCancel={this.onCancel}
                        measureIdentifier={totalSales.measure.localIdentifier}
                        filter={filters[0] || null}
                        anchorEl={this.toggleButtonRef}
                    /&gt;
                ) : null}
                &lt;BarChart
                    projectId={projectId}
                    measures={[totalSales]}
                    viewBy={[locationResort]}
                    filters={filters}
                /&gt;
            &lt;/div&gt;
        );
    }
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="user-input-formatting"></a><a href="#user-input-formatting" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>User input formatting</h2>
<p>Input inside measure value filter component is formatted using separators. They can be changed using <code>separators</code> property. The property specifies thousand separator character and decimal point character. By default <code>,</code> for thousands and <code>.</code> for decimal point are used.</p>
<h3><a class="anchor" aria-hidden="true" id="example-1"></a><a href="#example-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h3>
<pre><code class="hljs css language-javascript">&lt;MeasureValueFilterDropdown
    ...
    separators={{ <span class="hljs-attr">thousand</span>: <span class="hljs-string">" "</span>, <span class="hljs-attr">decimal</span>: <span class="hljs-string">","</span> }}
/&gt;
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="properties"></a><a href="#properties" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Properties</h2>
<table>
<thead>
<tr><th style="text-align:left">Name</th><th style="text-align:left">Required?</th><th style="text-align:left">Type</th><th style="text-align:left">Default value</th><th style="text-align:left">Description</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">measureIdentifier</td><td style="text-align:left">true</td><td style="text-align:left">string</td><td style="text-align:left"></td><td style="text-align:left">The identifier of the filtered measure. You can use either the local identifier or URI.</td></tr>
<tr><td style="text-align:left">onApply</td><td style="text-align:left">true</td><td style="text-align:left">Function</td><td style="text-align:left"></td><td style="text-align:left">A callback when the selection is confirmed by a user. The passed configuration of the measure value filter is already transformed into a measure value filter definition, which you can then send directly to a chart.</td></tr>
<tr><td style="text-align:left">onCancel</td><td style="text-align:left">true</td><td style="text-align:left">Function</td><td style="text-align:left"></td><td style="text-align:left">A callback when user clicks on the Cancel button or invokes dropdown to be closed by clicking outside of it. Use this callback to hide dropdown.</td></tr>
<tr><td style="text-align:left">filter</td><td style="text-align:left">false</td><td style="text-align:left"><a href="/gooddata-ui/docs/next/filter_visual_components.html#measure-value-filter">Filter</a></td><td style="text-align:left">null</td><td style="text-align:left">The measure value filter definition</td></tr>
<tr><td style="text-align:left">displayDropdown</td><td style="text-align:left">false</td><td style="text-align:left">boolean</td><td style="text-align:left">false</td><td style="text-align:left">Specifies whether the dropdown is opened</td></tr>
<tr><td style="text-align:left">anchorEl</td><td style="text-align:left">false</td><td style="text-align:left">event target or string</td><td style="text-align:left">'body'</td><td style="text-align:left">Element which dropdown is aligned to, typically your toggle button</td></tr>
<tr><td style="text-align:left">usePercentage</td><td style="text-align:left">false</td><td style="text-align:left">boolean</td><td style="text-align:left">false</td><td style="text-align:left">Specifies whether the filtered measure is formatted as percentage. In this case, the filter dropdown will accept percentage values, not the actual measure values. It should be set to false when computeRatio is enabled on the filtered measure, as it is filtered by actual measure values and not percentage ones.</td></tr>
<tr><td style="text-align:left">warningMessage</td><td style="text-align:left">false</td><td style="text-align:left">string</td><td style="text-align:left">undefined</td><td style="text-align:left">Warning message displayed in the dropdown</td></tr>
<tr><td style="text-align:left">separators</td><td style="text-align:left">false</td><td style="text-align:left"><a href="#user-input-formatting">Separators</a></td><td style="text-align:left">undefined</td><td style="text-align:left">Separators used for formatting string in input. By default <code>,</code> for thousands and <code>.</code> for decimal point are used</td></tr>
</tbody>
</table>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#user-input-formatting">User input formatting</a><ul class="toc-headings"><li><a href="#example-1">Example</a></li></ul></li><li><a href="#properties">Properties</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="footer-links"><h3>Find more about GoodData.UI on</h3><div class="social-buttons"><a href="https://github.com/gooddata/gooddata-react-components" target="_blank" class="social-button github">Github</a><a href="https://stackoverflow.com/questions/tagged/gooddata" target="_blank" class="social-button stackoverflow">Stack Overflow</a><a href="https://twitter.com/gooddata_dev" target="_blank" class="social-button twitter">Twitter</a><a href="https://www.npmjs.com/package/@gooddata/react-components" target="_blank" class="social-button npm">NPM</a></div></section><section class="copyright"><div class="wrapper">Copyright © 2007–2020 GoodData Corporation. All Rights Reserved. Code licensed under a dual license - <a href="https://github.com/gooddata/gooddata-react-components/blob/master/LICENSE">CC BY-NC 4.0 for trial experience and GoodData.UI EULA for commercial use.</a>.</div></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '96c60b7fb8c45e6d7598a7e4469d175d',
                indexName: 'gooddata',
                inputSelector: '#search_input_react'
              });
            </script></body></html>